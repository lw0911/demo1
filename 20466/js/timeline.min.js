/**
 * Timeline - a horizontal / vertical timeline component
 * v. 1.0.0
 * Copyright Mike Collins
 * MIT License
 */
"use strict";function timeline(e,d){var f=[],t=void 0,c=0,u="Timeline:",v={mode:"vertical",forceVerticalMode:600,verticalStartPosition:"left",visibleItems:3};function h(e,t){return"number"==typeof e||e%1==0||(console.warn(u+" Supplied number '"+e+"' for "+t+" is not an integer."),!1)}function i(e,t,i){t.classList.add(i),e.parentNode.insertBefore(t,e),t.appendChild(e)}function l(e){var t=e.getBoundingClientRect();return 0<=t.top&&0<=t.left&&t.bottom<=(1.1*window.innerHeight||1.1*document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function m(e){var t="translate3d(-"+e.items[c].offsetLeft+"px, 0, 0)";e.scroller.style.webkitTransform=t,e.scroller.style.msTransform=t,e.scroller.style.transform=t}function n(e){var t,n,l,i,o,r,s,a;e.timelineEl.classList.add("timeline--horizontal"),t=e,window.innerWidth>t.forceVerticalMode&&(t.itemWidth=t.wrap.offsetWidth/t.visibleItems,t.items.forEach(function(e){e.style.width=t.itemWidth+"px"}),t.scrollerWidth=t.itemWidth*t.items.length,t.scroller.style.width=t.scrollerWidth+"px",l=n=0,t.items.forEach(function(e,t){e.style.height="auto";var i=e.offsetHeight;t%2==0?l=l<i?i:l:n=n<i?i:n}),t.items.forEach(function(e,t){t%2==0?e.style.height=l+"px":(e.style.height=n+"px",e.style.transform="translateY("+l+"px)")}),t.scroller.style.height=l+n+"px"),m(e),function(e){if(e.items.length>e.visibleItems){var t=document.createElement("button"),i=document.createElement("button"),n=e.items[0].offsetHeight;t.className="timeline-nav-button timeline-nav-button--prev",i.className="timeline-nav-button timeline-nav-button--next",t.textContent="Previous",i.textContent="Next",t.style.top=n+"px",i.style.top=n+"px",0===c?t.disabled=!0:c+1===e.items.length&&(i.disabled=!0),e.timelineEl.appendChild(t),e.timelineEl.appendChild(i)}}(e),function(e){e.timelineEl.querySelector(".timeline-divider")&&e.timelineEl.querySelector(".timeline-divider").remove();var t=e.items[0].offsetHeight,i=document.createElement("span");i.className="timeline-divider",i.style.top=t+"px",e.timelineEl.appendChild(i)}(e),o=(i=e).timelineEl.querySelectorAll(".timeline-nav-button"),r=i.timelineEl.querySelector(".timeline-nav-button--prev"),s=i.timelineEl.querySelector(".timeline-nav-button--next"),a=i.items.length-i.visibleItems,[].forEach.call(o,function(e){e.addEventListener("click",function(e){e.preventDefault(),0===(c=this.classList.contains("timeline-nav-button--next")?c+=1:c-=1)?(r.disabled=!0,s.disabled=!1):c===a?(r.disabled=!1,s.disabled=!0):(r.disabled=!1,s.disabled=!1),m(i)})})}function o(){f.forEach(function(e){e.timelineEl.style.opacity=0,e.timelineEl.classList.contains("timeline--loaded")||e.items.forEach(function(e){i(e.querySelector(".timeline__content"),document.createElement("div"),"timeline__content__wrap"),i(e.querySelector(".timeline__content__wrap"),document.createElement("div"),"timeline__item__inner")}),function(e){c=0,e.timelineEl.classList.remove("timeline--horizontal","timeline--mobile"),e.scroller.removeAttribute("style"),e.items.forEach(function(e){e.removeAttribute("style"),e.classList.remove("animated","fadeIn","timeline__item--left","timeline__item--right")});var t=e.timelineEl.querySelectorAll(".timeline-nav-button");[].forEach.call(t,function(e){e.parentNode.removeChild(e)})}(e),window.innerWidth<=e.forceVerticalMode&&e.timelineEl.classList.add("timeline--mobile"),"horizontal"===e.mode&&window.innerWidth>e.forceVerticalMode?n(e):function(i){var n=0;i.items.forEach(function(e,t){e.classList.remove("animated","fadeIn"),!l(e)&&0<t?e.classList.add("animated"):n=t,t%2==("left"===i.verticalStartPosition?1:0)&&window.innerWidth>v.forceVerticalMode?e.classList.add("timeline__item--right"):e.classList.add("timeline__item--left")});for(var e=0;e<n;e+=1)i.items[e].classList.remove("animated","fadeIn");window.addEventListener("scroll",function(){i.items.forEach(function(e){l(e)&&e.classList.add("fadeIn")})})}(e),e.timelineEl.classList.add("timeline--loaded"),setTimeout(function(){e.timelineEl.style.opacity=1},500)})}e.length&&[].forEach.call(e,function(e){var t=e.id?"#"+e.id:"."+e.className,i="could not be found as a direct descendant of",n=e.dataset,l=void 0,o=void 0,r=void 0,s=v.mode,a=v.verticalStartPosition,c=v.forceVerticalMode,m=v.visibleItems;n.mode?s=n.mode:d&&d.mode&&(s=d.mode),n.verticalStartPosition?a=n.verticalStartPosition:d&&d.verticalStartPosition&&(a=d.verticalStartPosition),n.forceVerticalMode?c=n.forceVerticalMode:d&&d.forceVerticalMode&&(c=d.forceVerticalMode),n.visibleItems?m=n.visibleItems:d&&d.visibleItems&&(m=d.visibleItems),"horizontal"!==s&&"vertical"!==s&&(console.warn(u+"The mode '"+s+"' was not recognised"),s=v.mode),"left"!==a&&"right"!==a&&(console.warn(u+"The start position '"+a+"' was not recognised"),a=v.verticalStartPosition),c&&h(c,"'forceVerticalMode'")||(c=v.forceVerticalMode),m&&h(m,"'visibleItems'")||(m=v.visibleItems);try{if(!(l=e.querySelector(".timeline__wrap")))throw new Error(u+".timeline__wrap "+i+" "+t);if(!(o=l.querySelector(".timeline__items")))throw new Error(u+".timeline__items "+i+" .timeline__wrap");r=[].slice.call(o.children,0)}catch(e){return console.warn(e.message),!1}f.push({timelineEl:e,wrap:l,scroller:o,mode:s,verticalStartPosition:a,items:r,visibleItems:m,forceVerticalMode:c})}),o(),window.addEventListener("resize",function(){clearTimeout(t),t=setTimeout(o,250)})}window.jQuery&&(window.jQuery.fn.timeline=function(e){return timeline(this,e),this});
//# sourceMappingURL=timeline.min.js.map
